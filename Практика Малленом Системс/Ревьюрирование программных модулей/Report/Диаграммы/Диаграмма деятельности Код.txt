@startuml
start

:Проверка прав пользователя;
if (Достаточно прав?) then (да)
  :Выбор периода отчёта;
  :Запрос данных из базы данных;
  if (Данные найдены?) then (да)
    :Агрегация данных;
    :Формирование PDF-файла;
    :Отправка отчёта пользователю;
    stop
  else (нет)
    :Сообщение «Данные не найдены»;
    stop
  endif
else (нет)
  :Сообщение «Доступ запрещён»;
  stop
endif
@enduml
